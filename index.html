<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aj√°nd√©k Neked ‚Äî Meglepet√©s</title>
  <style>
    :root{--bg:#fff7f3;--card:#fffef8;--accent:#b33a6a;--shadow:rgba(0,0,0,0.12)}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:#222}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:2rem}
    .stage{width:760px;max-width:96vw;text-align:center}
    .card{background:linear-gradient(180deg,var(--card),#fff3f0);padding:2rem;border-radius:14px;box-shadow:0 12px 36px var(--shadow)}
    h1{margin:0 0 .25rem;color:var(--accent);font-size:1.9rem}
    p.lead{margin:.25rem 0 1rem;color:#444}
    .box-wrap{display:flex;align-items:center;justify-content:center;margin:1.25rem 0}
    .box{width:220px;height:160px;position:relative;transform-style:preserve-3d;perspective:800px;cursor:pointer;margin:0 auto}
    .box-base{width:100%;height:100%;background:#f6dfe6;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.18);position:absolute;left:0;top:0;display:flex;align-items:center;justify-content:center;transform-origin:50% 0%;transition:transform 800ms cubic-bezier(.2,.9,.3,1);backface-visibility:hidden}
    .box-lid{width:110%;height:28%;background:#e74f84;border-radius:8px 8px 0 0;position:absolute;left:-5%;top:-6%;transform-origin:50% 100%;transition:transform 700ms cubic-bezier(.2,.9,.3,1);box-shadow:0 8px 18px rgba(0,0,0,0.14)}
    .box.open .box-lid{transform:rotateX(-75deg) translateY(-6px)}
    .box.open .box-base{transform:translateY(10px) scale(.99)}
    .gift-msg{opacity:0;transform:translateY(12px) scale(.98);transition:opacity 600ms, transform 600ms;pointer-events:none;font-weight:600}
    .box.open + .gift-msg{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}
    .voucher{margin-top:1rem;padding:1rem;border-radius:10px;background:linear-gradient(180deg,#fff,#fff8f2);border:1px dashed #e0b0c0;color:#2b2b2b}
    .cta{display:inline-block;margin-top:1rem;padding:.6rem 1rem;border-radius:10px;background:var(--accent);color:white;text-decoration:none}
    footer{margin-top:1rem;color:#666;font-size:.9rem}
    .small{font-size:.95rem;color:#333;margin-top:.5rem}
    @media (max-width:480px){.box{width:180px;height:130px}}
    /* Hidden YouTube container to keep layout clean */
    #player{width:0;height:0;overflow:hidden}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="stage">
      <div class="card" role="main" aria-labelledby="title">
        <h1 id="title">Egy kis meglepet√©s Neked</h1>
        <p class="lead">Kattints a dobozra, hogy kiny√≠ljon ‚Äî van benne valami k√ºl√∂nleges.</p>

        <div class="box-wrap">
          <div id="box" class="box" role="button" tabindex="0" aria-pressed="false" aria-label="Kattints a dobozra a meglepet√©shez">
            <div class="box-lid" aria-hidden="true"></div>
            <div class="box-base" aria-hidden="true">
              <div style="font-size:2.2rem;color:#fff;font-weight:700;">üéÅ</div>
            </div>
          </div>
        </div>

        <div class="gift-msg" id="giftMsg" aria-live="polite">
          <div class="small">Gratul√°lok ‚Äî nyisd ki a meglepet√©st!</div>
          <div class="voucher" id="voucher">
            <div style="font-size:1.2rem;color:var(--accent);margin-bottom:.35rem;">30 000 Ft</div>
            <div>Triumph v√°s√°rl√°si utalv√°ny</div>
            <div style="margin-top:.35rem;font-weight:600;">Bev√°lt√°s helye: Polg√°r</div>
            <div>Id≈ëpont: 2026.02.02 ‚Äì 2026.02.04</div>
          </div>

          <a class="cta" id="revealAgain" href="#" style="display:inline-block;">Megmutat</a>
        </div>

        <p class="small">Zene: ha a lej√°tsz√°s blokkolva van, haszn√°ld a "YouTube megnyit√°sa" gombot.</p>
        <p class="small"><a id="openYT" href="https://www.youtube.com/watch?v=r81AviZECUE" target="_blank" rel="noopener">YouTube megnyit√°sa</a></p>

        <footer>¬© 2026 ‚Äî Aj√°nd√©k</footer>
      </div>
    </div>
  </div>

  <!-- YouTube IFrame API + hidden player -->
  <div id="player"></div>
  <script>
    // YouTube video ID
    const YT_ID = 'r81AviZECUE';

    // Load YouTube IFrame API
    let tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.head.appendChild(tag);

    let player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '0', width: '0',
        videoId: YT_ID,
        playerVars: { 'autoplay': 0, 'controls': 1, 'rel': 0, 'modestbranding': 1 },
        events: { 'onReady': onPlayerReady }
      });
    }

    function onPlayerReady(event) {
      // player ready; we'll start on user click
    }

    (function(){
      const box = document.getElementById('box');
      const msg = document.getElementById('giftMsg');
      const voucher = document.getElementById('voucher');
      const revealAgain = document.getElementById('revealAgain');
      const openYT = document.getElementById('openYT');

      function openBox() {
        if (box.classList.contains('open')) return;
        box.classList.add('open');
        box.setAttribute('aria-pressed','true');

        // show message (CSS handles)
        msg.style.pointerEvents = 'auto';

        // Play YouTube via API if available (user gesture from click should allow it)
        if (typeof player !== 'undefined' && player && player.playVideo) {
          try {
            player.playVideo();
          } catch (err) {
            // fall back: open YT in new tab if play fails
            console.warn('YT play failed:', err);
          }
        }
      }

      function resetBox(){
        box.classList.remove('open');
        box.setAttribute('aria-pressed','false');
      }

      box.addEventListener('click', openBox);
      box.addEventListener('keydown', function(e){
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openBox(); }
      });

      revealAgain.addEventListener('click', function(e){
        e.preventDefault();
        if (box.classList.contains('open')) {
          voucher.animate([{opacity:1, transform:'scale(1)'},{opacity:0.9, transform:'scale(1.02)'},{opacity:1, transform:'scale(1)'}], {duration:500});
          if (typeof player !== 'undefined' && player && player.playVideo) {
            try { player.seekTo(0); player.playVideo(); } catch(err){ }
          }
        } else openBox();
      });

      // If user clicks the YouTube link, don't prevent default ‚Äî open in new tab
      openYT.addEventListener('click', function(){ /* just a link fallback */ });
    })();
  </script>
</body>
</html>
